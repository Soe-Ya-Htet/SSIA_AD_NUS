@model SSISTeam9.Models.Delegate
@using SSISTeam9.Models
@{
    var employees = (List<Employee>)ViewData["employees"];
    var filtered = new List<Employee>();
    foreach(var emp in employees)
    {
        if(emp.EmpRole!="REPRESENTATIVE")
        {
            filtered.Add(emp);
        }
    }
}

<h2>ViewDelegate</h2>
@using (Html.BeginForm("ViewDelegate", "Delegate", FormMethod.Post))
{
<table>
    <tr>
        <td>@Html.LabelFor(x => x.FromDate) </td>
        <td>@Html.TextBoxFor(x => x.FromDate, new { type = "date" })</td>
    </tr>
    <tr>
        <td>@Html.LabelFor(x => x.ToDate) </td>
        <td>@Html.TextBoxFor(x => x.ToDate, new { type = "date" })</td>
    </tr>
    <tr>
        <td>@Html.LabelFor(x => x.Employee) </td>
        <td>
            <div>
                @*<select  name="employee" id="empList">
                    @foreach (Employee e in employees)
                    {
                        <option value=@e>@e.EmpName</option>
                    }
                </select>*@

                @Html.DropDownListFor(x => x.Employee.EmpId, filtered.Select(e => new SelectListItem { Text=e.EmpName, Value=e.EmpId.ToString()}))
            </div>
        </td>
        <td>
            <input type="submit" value="Delegate"/>
        </td>
    </tr>
</table>
}
