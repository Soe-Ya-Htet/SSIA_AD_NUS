@using SSISTeam9.Models;
@{
    ViewBag.Title = "ChooseSuppliers";
    PurchaseOrder order = (PurchaseOrder)ViewData["order"];
}

<h2>Choose Alternative Suppliers</h2>

<div>
    @using (Html.BeginForm("All", "PurchaseOrder", FormMethod.Post))
    {
    <table>
        <tr>
            <th>Change Supplier To</th>
            <th>Item Number</th>
            <th>Description</th>
            <th>Quantity</th>
            <th>Unit Price ($)</th>
        </tr>

        @foreach (var item in order.ItemDetails)
        {
            if (@item.Item.isChecked)
            {
                <tr>
                    <td>@if(order.SupplierId.ToString() == item.ItemSuppliersDetails.Supplier1Id)
                    {
                        @item.ItemSuppliersDetails.Supplier2Name;
                    }
                    </td>
                    <td>@item.Item.ItemCode</td>
                    <td>@item.Item.Description</td>
                    <td>@(item.Quantity.ToString() + " " + item.Item.UnitOfMeasure)</td>
                    <td>@item.ItemSuppliersDetails.Supplier1UnitPrice</td>
                </tr>

            }

        }
        <tr>
            <td colspan="6" align="right"><input type="submit" value="Confirm changes"></td>
        </tr>
    </table>

    }
</div>



