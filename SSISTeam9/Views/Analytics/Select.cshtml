@using SSISTeam9.Models;
@{
    Layout = "~/Views/Shared/_Store.cshtml";
    ViewBag.Title = "Select Department";
    List<string> departments = (List<string>)ViewData["departments"];
    string month = (string)ViewData["month"];
    int year = (int)ViewData["year"];

    string sessionId = (string)ViewData["sessionId"];
}

<h2>Select Department</h2>
<div>
    @using (Html.BeginForm("DisplayChartByDept", "Analytics", routeValues: new { sessionid = sessionId }, method: FormMethod.Post))
    {
        <select id="department" name="department">
            @foreach (var department in departments)
            {
                if (department != "University Store")
                {
                    <option value="@department">@department</option>
                }
            }
        </select>
        <input type="hidden" name="month" value='@month' />
        <input type="hidden" name="year" value='@year' />
        <input type="hidden" name="sessionId" value="@sessionId" />
        <input type="submit" value="Generate" />
    }

</div>
